<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Comprar — MIL VIDAS EM UM ANO SÓ</title>
  <style>
    .botao{padding:12px 18px;background:#007bff;color:#fff;border:0;border-radius:6px;cursor:pointer;font-size:16px}
  </style>
</head>
<body>
  <h1>MIL VIDAS EM UM ANO SÓ</h1>
  <p>Preço: <strong>R$ 55,00</strong></p>

  <button id="pagar" class="botao">Pagar R$55,00</button>

  <script>
    document.getElementById('pagar').addEventListener('click', async () => {
      try {
        // Substitua pelo domínio do seu projeto Vercel
        const API_URL = "https://SEU_PROJETO.vercel.app/api/criar-preferencia";

        const res = await fetch(API_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          // se você quiser enviar dados dinâmicos, coloque no body
          // body: JSON.stringify({ quantity: 1, price: 55 })
        });

        if (!res.ok) {
          const err = await res.json();
          alert("Erro ao iniciar pagamento: " + (err.error || res.statusText));
          return;
        }

        const data = await res.json();
        // Redireciona para o checkout do Mercado Pago
        window.location.href = data.init_point;
      } catch (error) {
        console.error(error);
        alert("Erro ao conectar com o servidor de pagamento.");
      }
    });
  </script>
</body>
</html>

        